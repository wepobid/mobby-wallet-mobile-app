{"version":3,"sources":["webpack:///./src/layouts/InterfaceLayout/components/BalanceBlock/BalanceBlock.vue?a00a","webpack:///./src/services/ethplorer.js","webpack:///./src/layouts/InterfaceLayout/components/InterfaceHistoryTx/InterfaceHistoryTx.vue?eb5d","webpack:///src/layouts/InterfaceLayout/components/InterfaceHistoryTx/InterfaceHistoryTx.vue","webpack:///./src/layouts/InterfaceLayout/components/InterfaceHistoryTx/InterfaceHistoryTx.vue?c490","webpack:///./src/layouts/InterfaceLayout/components/InterfaceHistoryTx/InterfaceHistoryTx.vue","webpack:///./src/layouts/InterfaceLayout/components/InterfaceHistoryTx/index.js","webpack:///./src/layouts/InterfaceLayout/containers/MobbyTokenWalletContainer/MobbyTokenWalletContainer.vue?fb0c","webpack:///src/layouts/InterfaceLayout/containers/MobbyTokenWalletContainer/MobbyTokenWalletContainer.vue","webpack:///./src/layouts/InterfaceLayout/containers/MobbyTokenWalletContainer/MobbyTokenWalletContainer.vue?81b0","webpack:///./src/layouts/InterfaceLayout/containers/MobbyTokenWalletContainer/MobbyTokenWalletContainer.vue","webpack:///./src/layouts/InterfaceLayout/containers/MobbyTokenWalletContainer/index.js","webpack:///./src/layouts/InterfaceLayout/components/BalanceBlock/BalanceBlock.vue?5275","webpack:///src/layouts/InterfaceLayout/components/BalanceBlock/BalanceBlock.vue","webpack:///./src/layouts/InterfaceLayout/components/BalanceBlock/BalanceBlock.vue?d7b6","webpack:///./src/layouts/InterfaceLayout/components/BalanceBlock/BalanceBlock.vue","webpack:///./src/layouts/InterfaceLayout/components/BalanceBlock/index.js","webpack:///./src/layouts/InterfaceLayout/containers/MobbyTokenWalletContainer/MobbyTokenWalletContainer.vue?0106","webpack:///./src/layouts/InterfaceLayout/components/InterfaceHistoryTx/InterfaceHistoryTx.vue?415b"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BalanceBlock_vue_vue_type_style_index_0_id_cf98fd4a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_BalanceBlock_vue_vue_type_style_index_0_id_cf98fd4a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","Ethplorer","Object","_Users_nikitazaharov_Thor_Wallet_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__","this","apiRoute","req","sleep","fetch","res","endpoint","params","url","objToQueryString","Request","encodeURI","method","_sendReq","ok","Error","statusText","json","address","apiKey","token","type","get","concat","txs","operations","map","tx","formatTokenTx","formatEthTx","_callee5","ms","regeneratorRuntime","wrap","_context5","prev","next","abrupt","_Users_nikitazaharov_Thor_Wallet_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default","a","resolve","setTimeout","stop","obj","_Users_nikitazaharov_Thor_Wallet_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_2___default","key","join","value","unit","fromWei","toString","symbol","tokenInfo","hash","transactionHash","__webpack_exports__","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","txLoaded","expression","transactions","length","_v","_l","_s","isReceived","getDate","getValue","getCurrSymbol","_e","staticRenderFns","InterfaceHistoryTxvue_type_script_lang_js_","props","Array","default","Boolean","computed","objectSpread","vuex_esm","account","methods","to","toUpperCase","Date","timestamp","toLocaleString","InterfaceHistoryTx_InterfaceHistoryTxvue_type_script_lang_js_","component","componentNormalizer","InterfaceHistoryTx","d","attrs","curr-symbol","mobbyTokenSymbol","balance","get-balance","getBalance","tx-loaded","MobbyTokenWalletContainervue_type_script_lang_js_","components","interface-history-tx","balance-block","BalanceBlock","data","network","web3","mobbyToken","mobbyTokenBalance","mounted","getTxs","_this","getTokenBalance","then","$store","dispatch","catch","e","helpers","responseHandler","_getTokenBalance","asyncToGenerator","mark","_callee","contractAbi","contract","_context","constant","inputs","outputs","eth","Contract","balanceOf","encodeABI","call","tokenBalance","Number","denominator","bignumber","pow","decimals","div","sent","t0","ERROR","_x","apply","arguments","_this2","ethplorer","getTokenTx","MobbyTokenWalletContainer_MobbyTokenWalletContainervue_type_script_lang_js_","MobbyTokenWalletContainer","$t","currSymbol","BalanceBlockvue_type_script_lang_js_","Function","String","BalanceBlock_BalanceBlockvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MobbyTokenWalletContainer_vue_vue_type_style_index_0_id_fc6249c8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MobbyTokenWalletContainer_vue_vue_type_style_index_0_id_fc6249c8_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InterfaceHistoryTx_vue_vue_type_style_index_0_id_759acba6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InterfaceHistoryTx_vue_vue_type_style_index_0_id_759acba6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-a9939302.9982b45a.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BalanceBlock.vue?vue&type=style&index=0&id=cf98fd4a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BalanceBlock.vue?vue&type=style&index=0&id=cf98fd4a&lang=scss&scoped=true&\"","import unit from 'ethjs-unit';\n\nclass Ethplorer {\n  constructor() {\n    this.apiRoute = 'https://api.ethplorer.io';\n  }\n\n  async _sendReq(req) {\n    await sleep(2000);\n    const res = await fetch(req);\n    return res;\n  }\n\n  async get(endpoint, params) {\n    const url = `${this.apiRoute}${endpoint}${\n      params ? '?' + objToQueryString(params) : ''\n    }`;\n\n    const req = new Request(encodeURI(url), {\n      method: 'GET'\n    });\n\n    const res = await this._sendReq(req);\n\n    if (!res.ok) throw new Error(res.statusText);\n\n    return await res.json();\n  }\n\n  //routes\n  async getTokenTx(\n    address,\n    params = {\n      apiKey: 'freekey',\n      token: '0x8424EB7B1E2B8a0254FA7B16df358f11c4572c13',\n      type: 'transfer'\n    }\n  ) {\n    const txs = await this.get(`/getAddressHistory/${address}`, params);\n    return txs.operations.map(tx => formatTokenTx(tx));\n  }\n\n  async getEthTx(\n    address,\n    params = {\n      apiKey: 'freekey'\n    }\n  ) {\n    const txs = await this.get(`/getAddressTransactions/${address}`, params);\n    return txs.map(tx => formatEthTx(tx));\n  }\n}\n\nasync function sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nfunction objToQueryString(obj) {\n  return Object.keys(obj)\n    .map(key => key + '=' + obj[key])\n    .join('&');\n}\n\nfunction formatTokenTx(tx) {\n  tx.value = unit.fromWei(tx.value, 'ether').toString();\n  tx.symbol = tx.tokenInfo.symbol;\n  tx.hash = tx.transactionHash;\n  return tx;\n}\n\nfunction formatEthTx(tx) {\n  tx.symbol = 'ETH';\n  return tx;\n}\n\nexport default new Ethplorer();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"interface-history-tx\"},[_c('div',{staticClass:\"spinner-container\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.txLoaded),expression:\"!txLoaded\"}],staticClass:\"fa fa-spin fa-spinner fa-lg\"})]),(_vm.txLoaded && _vm.transactions.length === 0)?_c('p',{staticClass:\"text-center\"},[_vm._v(\"\\n    Transaction history is empty\\n  \")]):(_vm.txLoaded)?_c('ul',{staticClass:\"tx-history\"},_vm._l((_vm.transactions),function(tx){return _c('li',{key:tx.hash},[_c('div',{staticClass:\"tx-time\"},[_c('p',[_vm._v(_vm._s(_vm.isReceived(tx) ? 'Received' : 'Sent'))]),_c('p',[_vm._v(_vm._s(_vm.getDate(tx)))])]),_c('div',[_c('span',{staticClass:\"tx-value\"},[_vm._v(_vm._s(_vm.getValue(tx)))]),_c('span',{staticClass:\"tx-curr\"},[_vm._v(_vm._s(' ' + _vm.getCurrSymbol(tx)))])])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"interface-history-tx\">\n    <div class=\"spinner-container\">\n      <i v-show=\"!txLoaded\" class=\"fa fa-spin fa-spinner fa-lg\" />\n    </div>\n    <p v-if=\"txLoaded && transactions.length === 0\" class=\"text-center\">\n      Transaction history is empty\n    </p>\n    <ul v-else-if=\"txLoaded\" class=\"tx-history\">\n      <li v-for=\"tx in transactions\" :key=\"tx.hash\">\n        <div class=\"tx-time\">\n          <p>{{ isReceived(tx) ? 'Received' : 'Sent' }}</p>\n          <p>{{ getDate(tx) }}</p>\n        </div>\n        <div>\n          <span class=\"tx-value\">{{ getValue(tx) }}</span>\n          <span class=\"tx-curr\">{{ ' ' + getCurrSymbol(tx) }}</span>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  props: {\n    transactions: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    txLoaded: {\n      type: Boolean,\n      default: function() {\n        return false;\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      account: 'account'\n    })\n  },\n  methods: {\n    isReceived(tx) {\n      return tx.to.toUpperCase() === this.account.address.toUpperCase();\n    },\n    getDate(tx) {\n      return new Date(tx.timestamp * 1000).toLocaleString();\n    },\n    getValue(tx) {\n      return tx.value;\n    },\n    getCurrSymbol(tx) {\n      return tx.symbol;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'InterfaceHistoryTx.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InterfaceHistoryTx.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InterfaceHistoryTx.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InterfaceHistoryTx.vue?vue&type=template&id=759acba6&scoped=true&\"\nimport script from \"./InterfaceHistoryTx.vue?vue&type=script&lang=js&\"\nexport * from \"./InterfaceHistoryTx.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InterfaceHistoryTx.vue?vue&type=style&index=0&id=759acba6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"759acba6\",\n  null\n  \n)\n\nexport default component.exports","export { default } from './InterfaceHistoryTx';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"eth-wallet-container\"},[_c('balance-block',{staticClass:\"balance-block\",attrs:{\"curr-symbol\":_vm.mobbyTokenSymbol,\"balance\":_vm.balance,\"get-balance\":_vm.getBalance}}),_c('interface-history-tx',{attrs:{\"transactions\":_vm.transactions,\"tx-loaded\":_vm.txLoaded}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"eth-wallet-container\">\n    <balance-block\n      :curr-symbol=\"mobbyTokenSymbol\"\n      :balance=\"balance\"\n      :get-balance=\"getBalance\"\n      class=\"balance-block\"\n    />\n    <interface-history-tx :transactions=\"transactions\" :tx-loaded=\"txLoaded\" />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport ethplorer from '@/services/ethplorer.js';\nimport InterfaceHistoryTx from '../../components/InterfaceHistoryTx';\nimport BalanceBlock from '../../components/BalanceBlock';\nimport { Toast } from '@/helpers';\nimport { BigNumber } from 'bignumber.js';\n\nexport default {\n  components: {\n    'interface-history-tx': InterfaceHistoryTx,\n    'balance-block': BalanceBlock\n  },\n  props: {},\n  data() {\n    return {\n      transactions: [],\n      txLoaded: false\n    };\n  },\n  computed: {\n    ...mapGetters({\n      account: 'account',\n      network: 'network',\n      web3: 'web3'\n    }),\n    mobbyTokenSymbol() {\n      return this.network.type.mobbyToken.symbol;\n    },\n    balance() {\n      return this.account.mobbyTokenBalance.toString();\n    }\n  },\n  mounted() {\n    this.getBalance();\n    this.getTxs();\n  },\n  methods: {\n    getBalance() {\n      this.getTokenBalance(this.network.type.mobbyToken)\n        .then(res => {\n          this.$store.dispatch('setAccountMobbyTokenBalance', res);\n        })\n        .catch(e => {\n          Toast.responseHandler(e, false);\n        });\n    },\n    async getTokenBalance(token) {\n      try {\n        const web3 = this.web3;\n        const contractAbi = [\n          {\n            name: 'balanceOf',\n            type: 'function',\n            constant: true,\n            inputs: [{ name: 'address', type: 'address' }],\n            outputs: [{ name: 'out', type: 'uint256' }]\n          }\n        ];\n        const contract = new web3.eth.Contract(contractAbi);\n        const data = contract.methods\n          .balanceOf(this.account.address)\n          .encodeABI();\n        const balance = await web3.eth\n          .call({\n            to: token.address,\n            data: data\n          })\n          .then(res => {\n            let tokenBalance;\n            if (Number(res) === 0 || res === '0x') {\n              tokenBalance = 0;\n            } else {\n              const denominator = new BigNumber(10).pow(token.decimals);\n              tokenBalance = new BigNumber(res).div(denominator).toString();\n            }\n            return tokenBalance;\n          })\n          .catch(e => {\n            Toast.responseHandler(e, false);\n          });\n\n        return balance;\n      } catch (e) {\n        Toast.responseHandler(e, Toast.ERROR);\n      }\n    },\n    getTxs() {\n      ethplorer\n        .getTokenTx(this.account.address)\n        .then(res => {\n          this.transactions = res;\n          this.txLoaded = true;\n        })\n        .catch(e => {\n          this.txLoaded = true;\n          Toast.responseHandler(e, Toast.ERROR);\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'MobbyTokenWalletContainer.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobbyTokenWalletContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobbyTokenWalletContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MobbyTokenWalletContainer.vue?vue&type=template&id=fc6249c8&scoped=true&\"\nimport script from \"./MobbyTokenWalletContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./MobbyTokenWalletContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MobbyTokenWalletContainer.vue?vue&type=style&index=0&id=fc6249c8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc6249c8\",\n  null\n  \n)\n\nexport default component.exports","export { default } from './MobbyTokenWalletContainer';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mobile-address-block\"},[_c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"top-block\"},[_c('div',{staticClass:\"block-title\"},[_vm._v(_vm._s(_vm.$t('common.balance')))])]),_c('div',{staticClass:\"bottom-block\"},[_c('p',{},[_vm._v(\"\\n        \"+_vm._s(_vm.balance)+\"\\n        \"),_c('span',[_vm._v(_vm._s(_vm.currSymbol))])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mobile-address-block\">\n    <div class=\"wrap\">\n      <div class=\"top-block\">\n        <div class=\"block-title\">{{ $t('common.balance') }}</div>\n      </div>\n      <div class=\"bottom-block\">\n        <p class>\n          {{ balance }}\n          <span>{{ currSymbol }}</span>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    getBalance: {\n      type: Function,\n      default: function() {}\n    },\n    balance: {\n      type: String,\n      default: function() {\n        return '';\n      }\n    },\n    currSymbol: {\n      type: String,\n      default: function() {\n        return '';\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'BalanceBlock.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BalanceBlock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BalanceBlock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BalanceBlock.vue?vue&type=template&id=cf98fd4a&scoped=true&\"\nimport script from \"./BalanceBlock.vue?vue&type=script&lang=js&\"\nexport * from \"./BalanceBlock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BalanceBlock.vue?vue&type=style&index=0&id=cf98fd4a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf98fd4a\",\n  null\n  \n)\n\nexport default component.exports","export { default } from './BalanceBlock';\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobbyTokenWalletContainer.vue?vue&type=style&index=0&id=fc6249c8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobbyTokenWalletContainer.vue?vue&type=style&index=0&id=fc6249c8&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InterfaceHistoryTx.vue?vue&type=style&index=0&id=759acba6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InterfaceHistoryTx.vue?vue&type=style&index=0&id=759acba6&lang=scss&scoped=true&\""],"sourceRoot":""}